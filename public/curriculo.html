<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Criar Curr√≠culo | Office Express</title>

  <!-- √çcones e fontes -->
  <link rel="icon" href="icon.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Estilos -->
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/plugins/monthSelect/style.css">

  <!-- Scripts externos -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/pt.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/plugins/monthSelect/index.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.11.1/tsparticles.bundle.min.js"></script>

  <!-- Meta tags para compartilhamento -->
<meta property="og:title" content="Transforme sua hist√≥ria em oportunidades ‚Äî Curr√≠culo em minutos">
<meta property="og:description" content="Voc√™ n√£o √© invis√≠vel. Mostre seu valor com um curr√≠culo que fala por voc√™. Profissional, direto e feito pra quem est√° pronto pra ser escolhido(a).">
  <meta property="og:image" content="https://i.imgur.com/4YeH0xg.png">
  <meta property="og:url" content="https://officeexpress.onrender.com/curriculo.html">
  <meta property="og:type" content="website">
</head>

<body>

<!-- üü° Mensagem 2 -->
<!-- üî≤ Fundo escuro suave -->
<div id="fundoEscuro" style="
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.4);
  z-index: 9998;
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
"></div>

<!-- üü† Mensagem 1 (corrigida) -->
<div id="impactoFinal1" style="
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #ffffff;
  color: #2a2a2a;
  padding: 24px 32px;
  border-radius: 16px;
  font-size: 1.3rem;
  font-weight: 600;
  text-align: center;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  border: 0.1px solid #00324a;
  z-index: 9999;
  width: 360px;
  max-width: 95%;
  opacity: 0;
  transition: opacity 0.6s ease;
">
  <div style="margin-bottom: 16px;">
    Voc√™ n√£o chegou at√© aqui por acaso. N√£o desista de fazer seu Curr√≠culo!
  </div>
  <div style="height: 6px; background: rgba(255,255,255,0.3); border-radius: 3px;">
    <div id="barraTempo1" style="height: 100%; width: 100%; background: linear-gradient(to right, #ff6a00, #ffcc00); transition: width 0.1s;"></div>
  </div>
</div>

<!-- üü° Mensagem 2 -->
<div id="impactoFinal2" style="
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #ffffff;
  color: #2a2a2a;
  padding: 24px 32px;
  border-radius: 16px;
  font-size: 1.3rem;
  font-weight: 600;
  text-align: center;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  border: 0.1px solid #00324a;
  z-index: 9999;
  width: 360px;
  max-width: 95%;
  opacity: 0;
  transition: opacity 0.6s ease;
">
  <div style="margin-bottom: 16px;">
    Vamos finalizar esse Curr√≠culo? A vaga t√° a√≠ esperando por voc√™.
  </div>
  <div style="height: 6px; background: rgba(255,255,255,0.3); border-radius: 3px;">
    <div id="barraTempo2" style="height: 100%; width: 100%; background: linear-gradient(to right, #ff6a00, #ffcc00); transition: width 0.1s;"></div>
  </div>
</div>

<script>
  let tempoInativo = 0;
  let intervaloInatividade;
  let mensagem1Mostrada = false;
  let mensagem2Mostrada = false;
  let aguardandoSegunda = false;
  let tempoParaSegunda = 0;

  function resetarInatividade() {
    tempoInativo = 0;
    if (mensagem1Mostrada && !mensagem2Mostrada) {
      aguardandoSegunda = true;
      tempoParaSegunda = 0;
    }
  }

  function iniciarMonitoramento() {
    intervaloInatividade = setInterval(() => {
      tempoInativo++;

      if (tempoInativo >= 5 && !mensagem1Mostrada) {
        mostrarImpacto("impactoFinal1", "barraTempo1", 5000, true); // ‚úÖ permitir clique
        mensagem1Mostrada = true;
        aguardandoSegunda = true;
        tempoParaSegunda = 0;
      }

      if (aguardandoSegunda && !mensagem2Mostrada) {
        tempoParaSegunda++;
        if (tempoParaSegunda >= 60) {
          mostrarImpacto("impactoFinal2", "barraTempo2", 10000, true);
          mensagem2Mostrada = true;
          aguardandoSegunda = false;
        }
      }

      if (mensagem1Mostrada && mensagem2Mostrada) {
        clearInterval(intervaloInatividade);
      }
    }, 1000);
  }

  function mostrarImpacto(idCaixa, idBarra, tempoSumir, permitirClique = false) {
    const box = document.getElementById(idCaixa);
    const barra = document.getElementById(idBarra);
    const fundo = document.getElementById("fundoEscuro");

    fundo.style.display = "block";
    box.style.display = "block";
    setTimeout(() => {
      fundo.style.opacity = "1";
      box.style.opacity = "1";
    }, 50);

    let tempo = 100;
    const intervalo = setInterval(() => {
      tempo -= 1;
      barra.style.width = tempo + "%";
      if (tempo <= 0) {
        clearInterval(intervalo);
        box.style.opacity = "0";
        fundo.style.opacity = "0";
        setTimeout(() => {
          box.style.display = "none";
          fundo.style.display = "none";
        }, 300);
      }
    }, tempoSumir / 100);

    if (permitirClique) {
      const fechar = () => {
        box.style.opacity = "0";
        fundo.style.opacity = "0";
        setTimeout(() => {
          box.style.display = "none";
          fundo.style.display = "none";
        }, 300);
        document.removeEventListener("click", fechar);
      };
      document.addEventListener("click", fechar);
    }
  }

  // Eventos que contam como atividade
  ["mousemove", "keydown", "scroll", "touchstart", "click"].forEach(evento => {
    document.addEventListener(evento, resetarInatividade);
  });

  // ‚úÖ Intera√ß√£o ao escolher foto
  const campoFoto = document.querySelector('input[type="file"]');
  if (campoFoto) {
    campoFoto.addEventListener("change", resetarInatividade);
  }

  iniciarMonitoramento();
</script>
  <div id="particles-js"></div>

  <!-- Barra de progresso -->
  <div class="barra-progresso">
    <div id="progresso" class="progresso"></div>
  </div>

  <div id="notificacoes" style="margin-top: 10px; font-size: 0.95rem; color: #333; font-family: 'Inter', sans-serif;"></div>

  <div class="container">
    <h1>Construa o Curr√≠culo Que Vai Abrir Portas</h1>
    <form id="formulario">

      <!-- Etapa 1 -->
      <div class="etapa">
        <label for="foto">Sua Imagem Profissional <span style="font-weight: normal; color: #666;">(opcional, mas poderosa)</span></label>
        <div id="drop-area" style="display: flex; align-items: center; gap: 20px;">
          <div id="upload-box" style="flex: 1; padding: 20px; border: 2px dashed #ccc; border-radius: 10px; text-align: center; cursor: pointer;">
            <p>Arraste a foto aqui ou clique para selecionar</p>
            <input type="file" id="foto" accept="image/*" style="display: none;" />
          </div>
          <img id="preview-miniatura" src="" alt="Pr√©-visualiza√ß√£o" style="width: 80px; height: 106px; object-fit: cover; border: 1px solid #ccc; border-radius: 6px; display: none;" />
          <div id="edit-icon" style="position: absolute; width: 80px; height: 106px; display: none; justify-content: center; align-items: center; pointer-events: none;">
            <img src="https://cdn-icons-png.flaticon.com/512/84/84380.png" alt="Editar" style="width: 32px; opacity: 0.5; pointer-events: auto; cursor: pointer;" onclick="abrirEditor()" />
          </div>
        </div>

<label>Nome Completo <span style="font-weight: normal; color: #666;"></span></label>
<div style="display: flex; align-items: center; gap: 10px;">
  <input type="text" name="nome" id="nome" required />
  <button type="button" onclick="reconhecerVoz('nome')" style="background: none; border: none; cursor: pointer;">
    <img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />
  </button>
</div>

<!-- ‚úÖ NOVO CAMPO DE IDADE -->
<label for="idade">Idade <span style="font-weight: normal; color: #666;">(opcional)</span></label>
<div style="display: flex; align-items: center; gap: 10px;">
  <input type="number" name="idade" id="idade" min="1" max="120" required style="width: 80px;" />
  </button>
</div>
        

      </div>

      <!-- Etapa 2A ‚Äî Contato -->
<div class="etapa">
  <div style="display: flex; flex-direction: column; margin-bottom: 12px;">
    <label for="email">Email</label>
    <div style="display: flex; align-items: center; gap: 10px;">
      <input type="email" name="email" id="email" required />
    </div>
  </div>

  <label>Telefones</label>
  <div id="telefones">
    <div class="telefone-bloco" style="margin-bottom: 10px;">
      <input type="text" name="telefone[]" class="telefone-input" placeholder="(DDD) 9XXXX-XXXX" />
      <span class="erro-telefone" style="color: red; font-size: 13px; display: none;">N√∫mero inv√°lido</span>
    </div>
  </div>
  <button type="button" class="sub-botao" onclick="adicionarTelefone()">+ Adicionar Telefone</button>
</div>

<script>
function aplicarMascaraEValidacao(input, erroSpan) {
  input.addEventListener("input", function () {
    let valor = input.value.replace(/\D/g, "");
    if (valor.length > 11) valor = valor.slice(0, 11);

    let formatado = valor;
    if (valor.length >= 2) {
      formatado = `(${valor.slice(0, 2)})`;
      if (valor.length >= 7) {
        formatado += `${valor.slice(2, 7)}-${valor.slice(7)}`;
      } else {
        formatado += valor.slice(2);
      }
    }

    input.value = formatado;

    const valido = /^(\d{2})(9\d{8})$/.test(valor);
    erroSpan.style.display = valor.length > 0 && !valido ? "inline" : "none";
  });
}

function adicionarTelefone() {
  const container = document.getElementById("telefones");

  const bloco = document.createElement("div");
  bloco.className = "telefone-bloco";
  bloco.style.marginBottom = "10px";

  const input = document.createElement("input");
  input.type = "text";
  input.name = "telefone[]";
  input.className = "telefone-input";
  input.placeholder = "(DDD) 9XXXX-XXXX";

  const erro = document.createElement("span");
  erro.className = "erro-telefone";
  erro.textContent = "N√∫mero inv√°lido";
  erro.style.color = "red";
  erro.style.fontSize = "13px";
  erro.style.display = "none";

  bloco.appendChild(input);
  bloco.appendChild(erro);
  container.appendChild(bloco);

  aplicarMascaraEValidacao(input, erro); // aplica direto no novo campo
}

// Aplica nos campos j√° existentes ao carregar
document.querySelectorAll(".telefone-bloco").forEach(bloco => {
  const input = bloco.querySelector(".telefone-input");
  const erro = bloco.querySelector(".erro-telefone");
  aplicarMascaraEValidacao(input, erro);
});
</script>


<!-- Etapa 2B ‚Äî Endere√ßo -->
 
<div class="etapa">
    <div style="display: flex; flex-direction: column; margin-bottom: 12px;">
    <label for="cep">CEP</label>
    <input type="text" name="cep" id="cep" />
    <small style="display:block; margin-top:6px;">
      <a href="https://buscacepinter.correios.com.br/app/endereco/index.php" target="_blank" style="color:#00324a; text-decoration:underline;">
        N√£o sabe seu CEP? Clique aqui para buscar no site dos Correios
      </a>
    </small>
  </div>
  <div style="display: flex; flex-direction: column; margin-bottom: 12px;">
    <label for="endereco">Rua/Avenida</label>
    <div style="display: flex; align-items: center; gap: 10px;">
      <input type="text" id="endereco" name="endereco" placeholder="" />
      <button type="button" onclick="reconhecerCampo('endereco')" style="background: none; border: none; cursor: pointer;">
        <img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />
      </button>
    </div>
  </div>

  <div style="display: flex; flex-direction: column; margin-bottom: 12px;">
<label for="numero">N√∫mero <span style="font-weight: normal; color: #666;">(opcional)</span></label>
<input type="text" id="numero" name="numero">
  </div>

  <div style="display: flex; flex-direction: column; margin-bottom: 12px;">
    <label for="complemento">Complemento <span style="font-weight: normal; color: #666;">(opcional)</span></label>
    <div style="display: flex; align-items: center; gap: 10px;">
      <input type="text" name="complemento" id="complemento" />
      <button type="button" onclick="reconhecerCampo('complemento')" style="background: none; border: none; cursor: pointer;">
        <img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />
      </button>
    </div>
  </div>

  <div style="display: flex; flex-direction: column; margin-bottom: 12px;">
    <label for="bairro">Bairro</label>
    <div style="display: flex; align-items: center; gap: 10px;">
      <input type="text" name="bairro" id="bairro" />
      <button type="button" onclick="reconhecerCampo('bairro')" style="background: none; border: none; cursor: pointer;">
        <img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />
      </button>
    </div>
  </div>

  <div style="display: flex; flex-direction: column; margin-bottom: 12px;">
    <label for="cidade">Cidade</label>
    <div style="display: flex; align-items: center; gap: 10px;">
      <input type="text" name="cidade" id="cidade" />
      <button type="button" onclick="reconhecerCampo('cidade')" style="background: none; border: none; cursor: pointer;">
        <img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />
      </button>
    </div>
  </div>
</div>
<script>
  document.getElementById("cep").addEventListener("blur", async function () {
    const cep = this.value.replace(/\D/g, "");

    if (cep.length !== 8) {
      alert("CEP inv√°lido. Digite os 8 n√∫meros.");
      return;
    }

    try {
      const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
      const data = await response.json();

      if (data.erro) {
        alert("CEP n√£o encontrado.");
        return;
      }

      document.getElementById("endereco").value = data.logradouro || "";
      document.getElementById("bairro").value = data.bairro || "";
      document.getElementById("cidade").value = data.localidade || "";
    } catch (error) {
      console.error("Erro ao buscar CEP:", error);
      alert("Erro ao buscar o CEP. Tente novamente.");
    }
  });
</script>

      <!-- Etapa 3 -->
      <div class="etapa">
  <label for="infoAdicional">Informa√ß√µes adicionais <span style="font-weight: normal; color: #888;">(opcional)</span></label>
  <p style="margin-top: 10px; font-weight: 500; color: #555;">
   
  </p>
  <textarea name="infoAdicional" id="infoAdicional" rows="4" placeholder="CNH, Disponibilidade de horarios, √°reas de interesse e etc..."></textarea>

<label style="margin-top: 30px;">Objetivo ‚Äì Qual seu objetivo profissional?</label>
<p style="margin-top: 10px; font-weight: 500; color: #555;">
  Escreva seu objetivo profissional. Se estiver sem ideias, clique em <strong>Gerar Objetivo</strong> para se inspirar.
</p>
<textarea name="objetivo" id="objetivo" required style="width: 100%; height: 100px; font-size: 16px; padding: 10px; resize: vertical;"></textarea>

<div id="ajuda-objetivo" style="margin-top: 30px;">
  <button id="gerarFrase" class="botao-personalizado">Gerar Objetivo</button>
</div>

<script>
const frases = [
  "Conquistar uma oportunidade de emprego em uma organiza√ß√£o que valorize o desenvolvimento humano, onde eu possa aplicar minhas compet√™ncias t√©cnicas e comportamentais para gerar resultados consistentes, crescer profissionalmente e contribuir para um ambiente colaborativo e inovador.",
  "Obter uma posi√ß√£o profissional que me permita transformar conhecimento em a√ß√£o, atuando com prop√≥sito, responsabilidade e foco em solu√ß√µes que agreguem valor real ao neg√≥cio e √† sociedade.",
  "Ser contratado por uma empresa que reconhe√ßa o potencial de seus colaboradores, oferecendo espa√ßo para autonomia, criatividade e evolu√ß√£o cont√≠nua, enquanto contribuo com minha experi√™ncia e vis√£o estrat√©gica.",
  "Buscar uma vaga de emprego que me desafie a sair da zona de conforto, estimulando meu crescimento pessoal e profissional por meio de projetos relevantes, metas ousadas e um ambiente que valorize a diversidade de ideias.",
  "Ingressar em uma organiza√ß√£o que esteja alinhada aos meus valores √©ticos e profissionais, onde eu possa atuar com integridade, empatia e excel√™ncia, contribuindo para a constru√ß√£o de uma cultura forte e resultados sustent√°veis.",
  "Conquistar uma posi√ß√£o que me permita aplicar minhas habilidades de comunica√ß√£o, lideran√ßa e resolu√ß√£o de problemas em contextos desafiadores, promovendo impacto positivo nas equipes e nos processos organizacionais.",
  "Obter uma oportunidade de trabalho em uma empresa que valorize o protagonismo e a intelig√™ncia emocional, permitindo que eu contribua com minha capacidade de adapta√ß√£o, escuta ativa e tomada de decis√£o assertiva.",
  "Ser contratado por uma organiza√ß√£o que incentive o aprendizado cont√≠nuo, a inova√ß√£o e o trabalho em equipe, onde eu possa crescer como profissional e como ser humano, contribuindo com solu√ß√µes criativas e eficazes.",
  "Buscar uma vaga de emprego que me permita atuar com prop√≥sito, alinhando minhas compet√™ncias √†s necessidades da empresa e aos desafios do mercado, com foco em resultados e em rela√ß√µes interpessoais saud√°veis.",
  "Conquistar uma oportunidade profissional em um ambiente que valorize a confian√ßa, o respeito e a colabora√ß√£o, onde eu possa desenvolver projetos com impacto estrat√©gico e construir uma trajet√≥ria s√≥lida e significativa.",
  "Obter uma posi√ß√£o que me permita integrar equipes multidisciplinares, contribuindo com minha vis√£o sist√™mica, capacidade anal√≠tica e comprometimento com a excel√™ncia em cada entrega realizada.",
  "Ser contratado por uma empresa que esteja em constante evolu√ß√£o, onde eu possa aplicar minha energia, criatividade e senso de responsabilidade para enfrentar desafios e construir solu√ß√µes inovadoras.",
  "Buscar uma vaga de emprego que me permita atuar com autonomia e clareza de prop√≥sito, contribuindo para o crescimento da organiza√ß√£o e para o fortalecimento da minha jornada profissional.",
  "Conquistar uma posi√ß√£o em uma empresa que valorize a escuta ativa, o di√°logo e o desenvolvimento de talentos, permitindo que eu contribua com minha experi√™ncia e aprenda com diferentes perspectivas.",
  "Obter uma oportunidade de trabalho que me permita aplicar minha paix√£o por resultados, minha capacidade de lideran√ßa e minha habilidade de construir rela√ß√µes de confian√ßa com colegas e clientes.",
  "Ser contratado por uma organiza√ß√£o que reconhe√ßa o valor da intelig√™ncia coletiva, onde eu possa colaborar com equipes diversas e contribuir para a constru√ß√£o de solu√ß√µes que gerem impacto positivo.",
  "Buscar uma vaga de emprego que me permita atuar com foco, disciplina e entusiasmo, enfrentando desafios com resili√™ncia e contribuindo para o crescimento sustent√°vel da empresa.",
  "Conquistar uma posi√ß√£o profissional que me permita alinhar meus talentos e valores aos objetivos estrat√©gicos da organiza√ß√£o, promovendo inova√ß√£o, engajamento e resultados duradouros.",
  "Obter uma oportunidade de trabalho em uma empresa que valorize o equil√≠brio entre performance e bem-estar, permitindo que eu contribua com excel√™ncia e mantenha minha sa√∫de emocional e motiva√ß√£o.",
  "Ser contratado por uma organiza√ß√£o que compreenda a import√¢ncia da cultura organizacional, onde eu possa atuar com autenticidade, prop√≥sito e impacto, construindo uma trajet√≥ria de sucesso compartilhado."
];

document.getElementById("gerarFrase").addEventListener("click", function () {
  const btn = this;
  btn.classList.add("flash-luz");

  setTimeout(() => {
    btn.classList.remove("flash-luz");
  }, 600); // mesma dura√ß√£o da anima√ß√£o

  const frase = frases[Math.floor(Math.random() * frases.length)];
  document.getElementById("objetivo").value = frase;
});
</script>
</div>

      <!-- Etapa 4 -->
      <div class="etapa">
        <h2>Cursos</h2>
<label>Caso n√£o tenha deixe em branco</label>
        <div id="cursos">
          <div class="curso">
<!-- Nome do curso -->
<div style="display: flex; flex-direction: column; margin-bottom: 12px;">
  <label for="curso">Nome do curso</label>
  <div style="display: flex; align-items: center; gap: 10px;">
    <input type="text" name="curso[]" id="curso" placeholder="Ex: Inform√°tica B√°sica, Administra√ß√£o e etc..." />
    <button type="button" onclick="reconhecerCampo('curso')" style="background: none; border: none; cursor: pointer;">
      <img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />
    </button>
  </div>
</div>

<!-- Institui√ß√£o -->
<div style="display: flex; flex-direction: column; margin-bottom: 12px;">
  <div style="display: flex; align-items: center; gap: 10px;">
    <input type="text" name="instituicao[]" id="instituicao" placeholder="Institui√ß√£o (opcional)" />
    <button type="button" onclick="reconhecerCampo('instituicao')" style="background: none; border: none; cursor: pointer;">
      <img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />
    </button>
  </div>
</div>
            <input type="text" name="carga[]" placeholder="Carga hor√°ria (ex: 40h)" class="carga-input" />
          </div>
        </div>
        <button type="button" class="sub-botao" onclick="adicionarCurso()">+ Adicionar Curso</button>
      </div>

      <!-- Etapa 5 -->
      <!-- Etapa 5 -->
<div class="etapa">
  <h2>Experi√™ncias Profissionais</h2>
  <label>Conte onde voc√™ j√° brilhou</label>

  <!-- Bot√£o Primeiro Emprego -->
<div style="margin: 10px 0;">
  <label for="primeiroEmpregoCheck" style="display: inline-flex; align-items: center; white-space: nowrap; gap: 6px; font-weight: 500; color: #333; cursor: pointer;">
    <input type="checkbox" id="primeiroEmpregoCheck" style="margin: 0; transform: scale(1.1); accent-color: #007bff;" />
    √â meu primeiro emprego
  </label>
</div>

  <div id="experiencias">
    <div class="experiencia">
      <!-- Empresa -->
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <input type="text" name="empresa[]" id="empresa-0" placeholder="Empresa" />
        <button type="button" onclick="reconhecerCampo('empresa-0')" style="background: none; border: none; cursor: pointer;">
          <img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />
        </button>
      </div>

      <!-- Cargo -->
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <input type="text" name="cargo[]" id="cargo-0" placeholder="Cargo" />
        <button type="button" onclick="reconhecerCampo('cargo-0')" style="background: none; border: none; cursor: pointer;">
          <img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />
        </button>
      </div>

      <!-- Atividades -->
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <textarea name="atividades[]" id="atividades-0" placeholder="Atividades desenvolvidas (opcional)..."></textarea>
        <button type="button" onclick="reconhecerAtividades('atividades-0')" style="background: none; border: none; cursor: pointer;">
          <img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />
        </button>
      </div>

      <!-- Per√≠odo -->
      <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
        <div style="flex: 1; min-width: 140px;">
          <label for="periodo_inicio_0">In√≠cio:</label>
          <input type="text" class="mesAno" name="periodo_inicio[]" id="periodo_inicio_0" placeholder="Selecione m√™s e ano">
        </div>
        <div style="flex: 1; min-width: 140px;">
          <label for="periodo_fim_0">Fim:</label>
          <input type="text" class="mesAno" name="periodo_fim[]" id="periodo_fim_0" placeholder="Selecione m√™s e ano">
        </div>
      </div>
    </div>
  </div>

  <button type="button" class="sub-botao" onclick="adicionarExperiencia()">+ Adicionar Experi√™ncia</button>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const checkbox = document.getElementById("primeiroEmpregoCheck");
  const experiencia = document.querySelector(".experiencia");

  checkbox.addEventListener("change", () => {
    const marcado = checkbox.checked;
    const campos = experiencia.querySelectorAll("input, textarea, button");

    if (marcado) {
      const campoEmpresa = experiencia.querySelector('[name="empresa[]"]');
      campoEmpresa.value = "Primeiro Emprego";
    } else {
      const campoEmpresa = experiencia.querySelector('[name="empresa[]"]');
      if (campoEmpresa.value === "Primeiro Emprego") {
        campoEmpresa.value = "";
      }
    }

    campos.forEach(el => {
      el.disabled = marcado;
      el.style.opacity = marcado ? "0.6" : "1";
      el.style.pointerEvents = marcado ? "none" : "auto";
    });

    // Reativa o checkbox mesmo quando desativado
    checkbox.disabled = false;
    checkbox.style.opacity = "1";
    checkbox.style.pointerEvents = "auto";
  });
});
</script>
      <!-- Etapa 6 -->
      <div class="etapa">
                <h2>Escolaridade / O Que Te Torna √önico(a)</h2>
<label>Forma√ß√£o Acad√™mica</label>
<div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
  <textarea name="formacao" id="formacao" required autocapitalize="sentences"></textarea>
  <button type="button" onclick="reconhecerCampo('formacao')" style="background: none; border: none; cursor: pointer;">
    <img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />
  </button>
</div>

<!-- HABILIDADES -->
<!-- HABILIDADES -->
<label for="habilidades-texto">Habilidades <span style="font-weight: normal; color: #888;">(opcional)</span></label>
<div class="linha-flex">
  <textarea id="habilidades-texto" name="habilidades" placeholder="Ex: Comunica√ß√£o, Lideran√ßa, Criatividade" autocapitalize="sentences"></textarea>
</div>
<div id="habilidades-opcoes" class="sugestoes"></div>

<!-- HOBBIES -->
<label for="hobbies-texto">Hobbies <span style="font-weight: normal; color: #888;">(opcional)</span></label>
<div class="linha-flex">
  <textarea id="hobbies-texto" name="hobbies" placeholder="Ex: Dan√ßar, Ler, Praticar Exerc√≠cios" autocapitalize="sentences"></textarea>
</div>
<div id="hobbies-opcoes" class="sugestoes"></div>

<!-- ESTILO -->
<style>
.sugestoes {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 20px;
  justify-content: center;
  padding: 0 10px;
}

.sugestoes button {
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 14px;
  font-weight: 500;
  color: #333;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  flex-shrink: 0;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.sugestoes button:hover {
  background-color: #f0f0f0;
  border-color: #999;
}

.sugestoes button.selecionado {
  background-color: #00324a;
  color: #fff;
  border-color: #00324a;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

/* üì± Mobile refinado */
@media screen and (max-width: 480px) {
  .sugestoes {
    justify-content: flex-start;
    gap: 6px;
    padding: 0 8px;
  }

  .sugestoes button {
    font-size: 13px;
    padding: 5px 10px;
    margin-bottom: 6px;
  }

  textarea,
  input[type="text"],
  input[type="email"],
  input[type="number"] {
    width: 100%;
    font-size: 16px;
  }

  .etapa {
    padding: 0 10px;
  }
}
</style>

<!-- SCRIPT -->
<!-- Outras fun√ß√µes e scripts acima... -->

<script>
  // ‚¨á‚¨á‚¨á Cola aqui sua fun√ß√£o criarSugestoes
function criarSugestoes(lista, containerId, textareaId) {
  const container = document.getElementById(containerId);
  lista.forEach(palavra => {
    const btn = document.createElement("button");
    btn.setAttribute("type", "button");
    btn.textContent = palavra;

    // ‚úÖ Substitui comportamento padr√£o por clique seguro
    btn.addEventListener("click", function (e) {
      e.preventDefault(); // impede submit
      e.stopImmediatePropagation(); // impede qualquer outro evento

      const textarea = document.getElementById(textareaId);
      const selecionadas = textarea.value.split(",").map(p => p.trim()).filter(p => p);

      if (selecionadas.includes(palavra)) {
        textarea.value = selecionadas.filter(p => p !== palavra).join(", ");
        btn.classList.remove("selecionado");
      } else {
        if (selecionadas.length >= 5) {
          alert("Voc√™ pode escolher at√© 5 op√ß√µes.");
          return;
        }
        selecionadas.push(palavra);
        textarea.value = selecionadas.join(", ");
        btn.classList.add("selecionado");
      }
    });

    container.appendChild(btn);
  });
}

  // ‚¨á‚¨á‚¨á E logo abaixo, chama a fun√ß√£o com os dados
  const habilidades = [
    "Comunica√ß√£o", "Lideran√ßa", "Criatividade", "Empatia", "Resili√™ncia",
    "Trabalho em equipe", "Organiza√ß√£o", "Flexibilidade", "Pensamento cr√≠tico", "Proatividade"
  ];

  const hobbies = [
    "Dan√ßar", "Ler", "Praticar Exerc√≠cios", "Cozinhar", "Viajar",
    "Jogar", "Fotografar", "Meditar", "Ouvir m√∫sica", "Desenhar"
  ];

  criarSugestoes(habilidades, "habilidades-opcoes", "habilidades-texto");
  criarSugestoes(hobbies, "hobbies-opcoes", "hobbies-texto");
</script>

</body>
</html>

        <p style="text-align: center; font-size: 1.1rem; margin-top: 30px; color: #00324a;">
Voc√™ est√° a um clique de transformar sua hist√≥ria profissional. <strong>Finalize e surpreenda-se com o resultado.</strong>
</p>
      </div>

      
      <!-- Navega√ß√£o -->
<div class="navegacao" style="display: flex; justify-content: space-between; margin-top: 40px;">
  <button type="button" id="voltar" class="botao-navegacao">Voltar</button>
  <button type="button" id="avancar" class="botao-navegacao">Avan√ßar</button>
</div>

  <script src="script.js"></script>

<script>
  const nomesUnicos = [
    "Adriana", "Aline", "Amanda", "Ana", "Andr√©", "Arthur", "Beatriz", "Bruna", "Caio", "Camila", "Carlos", "Carolina",
    "C√°ssia", "Cec√≠lia", "Clara", "Daniel", "Daniele", "D√©bora", "Diego", "Eduardo", "Eliane", "Elias", "Emerson", "Estela",
    "Fabiana", "Felipe", "Fernanda", "Fl√°via", "Gabriel", "Gisele", "Guilherme", "Helena", "Henrique", "Hugo", "Igor",
    "Isabela", "Joana", "Jo√£o", "Jorge", "Jos√©", "Juliana", "Karina", "Larissa", "Leonardo", "Let√≠cia", "Lucas", "Luiz",
    "Manuela", "Marcela", "Marcelo", "Marcos", "Maria", "Mariana", "Matheus", "Maur√≠cio", "Michele", "Milena", "Nat√°lia",
    "Nicole", "Patr√≠cia", "Paula", "Pedro", "Priscila", "Rafael", "Raquel", "Renata", "Ricardo", "Roberta", "Rodrigo",
    "Rosa", "Samuel", "Sandra", "Sara", "Simone", "Sofia", "S√¥nia", "Stephanie", "Sueli", "Tain√°", "Tatiane", "Thiago",
    "Val√©ria", "Vanessa", "Vin√≠cius", "Viviane", "Vitor", "Yasmin", "Zuleica", "Alan", "Alessandra", "Alex", "Alice",
    "Almir", "Ant√¥nio", "Augusto", "B√°rbara", "Ben√≠cio", "Bernardo", "Bianca", "Bruno", "Caetano", "Calebe", "Carla",
    "Cassiano", "Catarina", "Celina", "C√©sar", "Cristiane", "Cristina", "Daniela", "Davi", "Denise", "Diana", "Diogo",
    "Domingos", "Dulce", "Edgar", "Edson", "Elaine", "Emanuel", "Erica", "Erick", "Ester", "Eunice", "Eva", "Evelyn",
    "Fabiano", "Fabr√≠cia", "F√°tima", "Fernando", "Fl√°vio", "Francisca", "Francisco", "Frederico", "Geovana", "Geraldo",
    "Giovana", "Graziela", "Gustavo", "Heitor", "Helo√≠sa", "Humberto", "Iara", "Ian", "Ieda", "Ilana", "In√™s", "Irene",
    "Irineu", "Isabel", "Ivan", "Jacqueline", "Jaqueline", "Jessica", "Jonas", "Jonathan", "Jordana", "Jos√©fa", "Josu√©",
    "J√∫lia", "Juliano", "Jussara", "Karen", "Kelly", "Kleber", "Lara", "Laura", "Leandro", "Leda", "L√≠gia", "Lorena",
    "Lourdes", "Luana", "Luciana", "Luciano", "L√∫cio", "Ludmila", "Lu√≠sa", "Magda", "Maicon", "Ma√≠ra", "Malu", "Marc√≠lio",
    "Margarida", "Mariah", "Marilda", "Marina", "Marlene", "Marta", "Maurina", "Mayara", "Melissa", "Miguel", "Mirela",
    "Moacir", "Murilo", "N√°dia", "Naiane", "Nara", "Natan", "Neide", "Nelson", "Neusa", "Ney", "N√≠colas", "Noemi", "Norma",
    "Odair", "Olga", "Ot√°vio", "Paloma", "Patr√≠cio", "Paulo", "Pen√©lope", "P√©ricles", "Pietra", "Poliana", "Raimundo",
    "Regina", "Reinaldo", "Renan", "Rita", "Robson", "Rodnei", "Rog√©rio", "Rom√°rio", "Rosana", "Rose", "Roseli", "Rubens",
    "Rute", "Sabrina", "Salete", "Samuel", "Sandra", "Sandro", "Sebasti√£o", "Selma", "S√©rgio", "Silvana", "Silvia",
    "Sim√£o", "Solange", "Sueli", "Tadeu", "Talita", "Tamara", "Tatiana", "Telma", "Teresa", "Tiago", "T√∫lio", "Valdemar",
    "Valdir", "Valmir", "Vanda", "V√¢nia", "Vicente", "Vilma", "Vinicius", "Virg√≠nia", "Vitor", "Vivian", "Wagner", "Walter",
    "Wellington", "Willian", "Yara", "Yuri", "Z√©lia", "Zenaide", "Zilda", "Zuleide"
  ];

  const acoes = ["Come√ßou agora", "Est√° fazendo", "Terminou"];
  const nomesUsados = new Set();
  const tempos = [7000, 14000, 20000];
  let tempoIndex = 0;

  const container = document.getElementById("notificacoes");

  function gerarNotificacao() {
    if (nomesUsados.size >= nomesUnicos.length) return;

    let nome;
    do {
      nome = nomesUnicos[Math.floor(Math.random() * nomesUnicos.length)];
    } while (nomesUsados.has(nome));

    nomesUsados.add(nome);
    const acao = acoes[Math.floor(Math.random() * acoes.length)];
    const texto = `${nome} ${acao} o curr√≠culo.`;

    const div = document.createElement("div");
    div.classList.add("notificacao");
    div.textContent = texto;
    container.appendChild(div);

    const tempoAtual = tempos[tempoIndex];
    tempoIndex = (tempoIndex + 1) % tempos.length;

    setTimeout(() => {
      div.remove();
      gerarNotificacao();
    }, tempoAtual);
  }

  // Exibe primeiro a notifica√ß√£o com o nome do usu√°rio
  const nomeUsuario = localStorage.getItem("nomeUsuario");
  if (nomeUsuario) {
    const div = document.createElement("div");
    div.classList.add("notificacao");
    div.textContent = `${nomeUsuario} come√ßou agora o curr√≠culo.`;
    container.appendChild(div);
    nomesUsados.add(nomeUsuario);

    // Aguarda o tempo da primeira notifica√ß√£o antes de iniciar o ciclo
    setTimeout(() => {
      div.remove();
      gerarNotificacao();
    }, tempos[0]); // espera 7000ms antes de iniciar o ciclo
  } else {
    // Se n√£o tiver nome, inicia direto
    gerarNotificacao();
  }
</script>
<script>
function limparPontuacaoFinal(texto) {
  // Remove qualquer pontua√ß√£o no final da frase
  return texto.replace(/\s*[.,!?;:]$/, "").trim();
}

function capitalizarCadaPalavra(texto) {
  return texto
    .split(" ")
    .map(palavra => palavra.charAt(0).toUpperCase() + palavra.slice(1))
    .join(" ");
}

function limparPontuacaoFinal(texto) {
  return texto.replace(/\s*[.,!?;:]$/, "").trim();
}

// Capitaliza s√≥ a primeira letra da frase
function capitalizarPrimeiraLetra(texto) {
  return texto.charAt(0).toUpperCase() + texto.slice(1);
}

// Capitaliza cada palavra
function capitalizarCadaPalavra(texto) {
  return texto
    .split(" ")
    .map(palavra => palavra.charAt(0).toUpperCase() + palavra.slice(1))
    .join(" ");
}

// Remove pontua√ß√£o final
function limparPontuacaoFinal(texto) {
  return texto.replace(/\s*[.,!?;:]$/, "").trim();
}

function reconhecerVoz(idCampo) {
  const campo = document.getElementById(idCampo);
  const reconhecimento = new (window.SpeechRecognition || window.webkitSpeechRecognition)();

  reconhecimento.lang = 'pt-BR';
  reconhecimento.interimResults = false;
  reconhecimento.maxAlternatives = 1;

  reconhecimento.start();

  reconhecimento.onresult = function(event) {
    let resultado = event.results[0][0].transcript;
    campo.value = resultado.trim();
  };

  reconhecimento.onerror = function(event) {
    console.error('Erro no reconhecimento de voz:', event.error);
    alert('Erro ao usar o microfone: ' + event.error);
  };
}

function reconhecerVoz(idCampo) {
  const campo = document.getElementById(idCampo);
  const reconhecimento = new (window.SpeechRecognition || window.webkitSpeechRecognition)();

  reconhecimento.lang = 'pt-BR';
  reconhecimento.interimResults = false;
  reconhecimento.maxAlternatives = 1;

  reconhecimento.start();

  reconhecimento.onresult = function(event) {
    let resultado = event.results[0][0].transcript;
    campo.value = resultado.trim();
  };

  reconhecimento.onerror = function(event) {
    console.error('Erro no reconhecimento de voz:', event.error);
    alert('Erro ao usar o microfone: ' + event.error);
  };
}

// Reconhecimento para campos comuns (capitaliza cada palavra)
function reconhecerCampo(idCampo) {
  const campo = document.getElementById(idCampo);
  const reconhecimento = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  reconhecimento.lang = 'pt-BR';
  reconhecimento.interimResults = false;
  reconhecimento.maxAlternatives = 1;

  reconhecimento.start();

  reconhecimento.onresult = function(event) {
    let resultado = event.results[0][0].transcript;
    resultado = capitalizarCadaPalavra(limparPontuacaoFinal(resultado));
    campo.value = resultado;
  };

  reconhecimento.onerror = function(event) {
    alert('Erro no reconhecimento de voz: ' + event.error);
  };
}

// Reconhecimento exclusivo para atividades (capitaliza s√≥ a primeira letra)
function reconhecerAtividades(idCampo) {
  const campo = document.getElementById(idCampo);
  const reconhecimento = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  reconhecimento.lang = 'pt-BR';
  reconhecimento.interimResults = false;
  reconhecimento.maxAlternatives = 1;

  reconhecimento.start();

  reconhecimento.onresult = function(event) {
    let resultado = event.results[0][0].transcript;
    resultado = capitalizarPrimeiraLetra(limparPontuacaoFinal(resultado));
    campo.value = resultado;
  };

  reconhecimento.onerror = function(event) {
    alert('Erro no reconhecimento de voz: ' + event.error);
  };
}

// Adiciona bloco de curso
function adicionarCurso() {
  const container = document.getElementById("cursos");
  const index = document.querySelectorAll(".curso-bloco").length;

  const div = document.createElement("div");
  div.className = "curso-bloco";
  div.style.marginBottom = "20px";

  const cursoLabel = document.createElement("label");
  cursoLabel.textContent = "Nome do curso";
  cursoLabel.setAttribute("for", `curso-${index}`);

  const cursoWrapper = document.createElement("div");
  cursoWrapper.style.display = "flex";
  cursoWrapper.style.alignItems = "center";
  cursoWrapper.style.gap = "10px";

  const cursoInput = document.createElement("input");
  cursoInput.type = "text";
  cursoInput.name = "curso[]";
  cursoInput.id = `curso-${index}`;
  cursoInput.placeholder = "Ex: Inform√°tica B√°sica, Administra√ß√£o e etc...";

  const cursoMic = document.createElement("button");
  cursoMic.type = "button";
  cursoMic.innerHTML = `<img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />`;
  cursoMic.style.background = "none";
  cursoMic.style.border = "none";
  cursoMic.style.cursor = "pointer";
  cursoMic.onclick = () => reconhecerCampo(`curso-${index}`);

  cursoWrapper.appendChild(cursoInput);
  cursoWrapper.appendChild(cursoMic);

  const instLabel = document.createElement("label");
  instLabel.setAttribute("for", `instituicao-${index}`);

  const instWrapper = document.createElement("div");
  instWrapper.style.display = "flex";
  instWrapper.style.alignItems = "center";
  instWrapper.style.gap = "10px";

  const instInput = document.createElement("input");
  instInput.type = "text";
  instInput.name = "instituicao[]";
  instInput.id = `instituicao-${index}`;
  instInput.placeholder = "Institui√ß√£o (opcional)";

  const instMic = document.createElement("button");
  instMic.type = "button";
  instMic.innerHTML = `<img src="https://i.imgur.com/xNcIv1O.png" alt="Microfone" style="width: 24px;" />`;
  instMic.style.background = "none";
  instMic.style.border = "none";
  instMic.style.cursor = "pointer";
  instMic.onclick = () => reconhecerCampo(`instituicao-${index}`);

  instWrapper.appendChild(instInput);
  instWrapper.appendChild(instMic);

  const cargaLabel = document.createElement("label");
  cargaLabel.setAttribute("for", `carga-${index}`);

  const cargaInput = document.createElement("input");
  cargaInput.type = "text";
  cargaInput.name = "carga[]";
  cargaInput.id = `carga-${index}`;
  cargaInput.placeholder = "Carga hor√°ria (ex: 40h)";

  div.appendChild(cursoLabel);
  div.appendChild(cursoWrapper);
  div.appendChild(instLabel);
  div.appendChild(instWrapper);
  div.appendChild(cargaLabel);
  div.appendChild(cargaInput);

  container.appendChild(div);
}

// Adiciona bloco de experi√™ncia
function adicionarExperiencia() {
  const checkbox = document.getElementById("primeiroEmpregoCheck");
  if (checkbox.checked) {
    alert("Voc√™ marcou 'Primeiro Emprego'. N√£o √© necess√°rio adicionar experi√™ncias.");
    return;
  }

  const container = document.getElementById("experiencias");
  const index = document.querySelectorAll(".experiencia").length;

  const div = document.createElement("div");
  div.className = "experiencia";
  div.style.marginBottom = "20px";

  // Empresa
  const empresaWrapper = document.createElement("div");
  empresaWrapper.style.display = "flex";
  empresaWrapper.style.alignItems = "center";
  empresaWrapper.style.gap = "10px";
  empresaWrapper.style.marginBottom = "10px";

  const empresaInput = document.createElement("input");
  empresaInput.type = "text";
  empresaInput.name = "empresa[]";
  empresaInput.id = `empresa-${index}`;
  empresaInput.placeholder = "Empresa";

  const empresaMic = document.createElement("button");
  empresaMic.type = "button";
  empresaMic.innerHTML = `<img src="https://i.imgur.com/K0t5Kh1.png" alt="Microfone" style="width: 24px;" />`;
  empresaMic.style.background = "none";
  empresaMic.style.border = "none";
  empresaMic.style.cursor = "pointer";
  empresaMic.onclick = () => reconhecerCampo(`empresa-${index}`);

  empresaWrapper.appendChild(empresaInput);
  empresaWrapper.appendChild(empresaMic);

  // Cargo
  const cargoWrapper = document.createElement("div");
  cargoWrapper.style.display = "flex";
  cargoWrapper.style.alignItems = "center";
  cargoWrapper.style.gap = "10px";
  cargoWrapper.style.marginBottom = "10px";

  const cargoInput = document.createElement("input");
  cargoInput.type = "text";
  cargoInput.name = "cargo[]";
  cargoInput.id = `cargo-${index}`;
  cargoInput.placeholder = "Cargo";

  const cargoMic = document.createElement("button");
  cargoMic.type = "button";
  cargoMic.innerHTML = `<img src="https://i.imgur.com/K0t5Kh1.png" alt="Microfone" style="width: 24px;" />`;
  cargoMic.style.background = "none";
  cargoMic.style.border = "none";
  cargoMic.style.cursor = "pointer";
  cargoMic.onclick = () => reconhecerCampo(`cargo-${index}`);

  cargoWrapper.appendChild(cargoInput);
  cargoWrapper.appendChild(cargoMic);

  // Atividades
  const atividadesWrapper = document.createElement("div");
  atividadesWrapper.style.display = "flex";
  atividadesWrapper.style.alignItems = "center";
  atividadesWrapper.style.gap = "10px";
  atividadesWrapper.style.marginBottom = "10px";

  const atividadesTextarea = document.createElement("textarea");
  atividadesTextarea.name = "atividades[]";
  atividadesTextarea.id = `atividades-${index}`;
  atividadesTextarea.placeholder = "Atividades desenvolvidas...";

  const atividadesMic = document.createElement("button");
  atividadesMic.type = "button";
  atividadesMic.innerHTML = `<img src="https://i.imgur.com/K0t5Kh1.png" alt="Microfone" style="width: 24px;" />`;
  atividadesMic.style.background = "none";
  atividadesMic.style.border = "none";
  atividadesMic.style.cursor = "pointer";
  atividadesMic.onclick = () => reconhecerAtividades(`atividades-${index}`);

  atividadesWrapper.appendChild(atividadesTextarea);
  atividadesWrapper.appendChild(atividadesMic);

  // Per√≠odo (In√≠cio e Fim)
  const periodoWrapper = document.createElement("div");
  periodoWrapper.style.display = "flex";
  periodoWrapper.style.flexWrap = "wrap";
  periodoWrapper.style.gap = "10px";
  periodoWrapper.style.marginBottom = "10px";

  const inicioDiv = document.createElement("div");
  inicioDiv.style.flex = "1";
  inicioDiv.style.minWidth = "140px";

  const inicioLabel = document.createElement("label");
  inicioLabel.setAttribute("for", `periodo_inicio_${index}`);
  inicioLabel.textContent = "In√≠cio:";

  const inicioInput = document.createElement("input");
  inicioInput.type = "text";
  inicioInput.className = "mesAno";
  inicioInput.name = "periodo_inicio[]";
  inicioInput.id = `periodo_inicio_${index}`;
  inicioInput.placeholder = "Selecione m√™s e ano";

  inicioDiv.appendChild(inicioLabel);
  inicioDiv.appendChild(inicioInput);

  const fimDiv = document.createElement("div");
  fimDiv.style.flex = "1";
  fimDiv.style.minWidth = "140px";

  const fimLabel = document.createElement("label");
  fimLabel.setAttribute("for", `periodo_fim_${index}`);
  fimLabel.textContent = "Fim:";

  const fimInput = document.createElement("input");
  fimInput.type = "text";
  fimInput.className = "mesAno";
  fimInput.name = "periodo_fim[]";
  fimInput.id = `periodo_fim_${index}`;
  fimInput.placeholder = "Selecione m√™s e ano";

  fimDiv.appendChild(fimLabel);
  fimDiv.appendChild(fimInput);

  periodoWrapper.appendChild(inicioDiv);
  periodoWrapper.appendChild(fimDiv);

  // Monta tudo
  div.appendChild(empresaWrapper);
  div.appendChild(cargoWrapper);
  div.appendChild(atividadesWrapper);
  div.appendChild(periodoWrapper);

  container.appendChild(div);

  // Aplica Flatpickr nos campos rec√©m-criados
  setTimeout(() => {
    [inicioInput, fimInput].forEach(input => {
      if (!input._flatpickr) {
        flatpickr(input, {
          locale: flatpickr.l10ns.pt,
          dateFormat: "m/Y",
          altInput: true,
          altFormat: "F Y",
          plugins: [],
          disableMobile: true
        });
      }
    });
  }, 0);
}

fetch("https://officeexpress.onrender.com/api/logs", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
    acao: "etapa",
    nome: localStorage.getItem("curriculo") ? JSON.parse(localStorage.getItem("curriculo")).nome : "visitante",
    etapa: "Digitando",
    timestamp: new Date().toISOString()
  })
});

</script>
<script>
let uploadEmAndamento = false;
(function () {
  const inicio = Date.now();
  const nome = JSON.parse(localStorage.getItem("curriculo"))?.nome || "visitante";
  let etapaAtual = "Digitando";
  let logEnviado = false;

  let entradaViaSplash = localStorage.getItem("entradaViaSplash") === "true";
  localStorage.removeItem("entradaViaSplash");

  let navegandoInternamente = localStorage.getItem("navegandoInternamente") === "true";
  localStorage.removeItem("navegandoInternamente");

  let rastreioLiberado = false;
  setTimeout(() => { rastreioLiberado = true }, 300);

  window.enviarLogAbandono = function () {
    if (logEnviado || !entradaViaSplash || navegandoInternamente) return;
    logEnviado = true;
    const tempo = Math.round((Date.now() - inicio) / 1000);
    fetch("https://officeexpress.onrender.com/api/logs", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        acao: "etapa",
        nome,
        etapa: `Abandonou ${etapaAtual} ap√≥s ${tempo}s`,
        timestamp: new Date().toISOString()
      }),
      keepalive: true
    });
  };

window.handleVisibilityChange = function () {
  if (document.visibilityState === "hidden" && rastreioLiberado && !uploadEmAndamento) {
    enviarLogAbandono();
  }
};

  window.addEventListener("unload", enviarLogAbandono);
  document.addEventListener("visibilitychange", handleVisibilityChange);
})();
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const dadosSalvos = JSON.parse(localStorage.getItem("curriculo") || "{}");

  if (dadosSalvos.nome) document.getElementById("nome").value = dadosSalvos.nome;
  if (dadosSalvos.idade) document.getElementById("idade").value = dadosSalvos.idade;
  if (dadosSalvos.email) document.getElementById("email").value = dadosSalvos.email;
  if (dadosSalvos.endereco) document.getElementById("endereco").value = dadosSalvos.endereco;
  if (dadosSalvos.numero) document.getElementById("numero").value = dadosSalvos.numero;
  if (dadosSalvos.complemento) document.getElementById("complemento").value = dadosSalvos.complemento;
  if (dadosSalvos.bairro) document.getElementById("bairro").value = dadosSalvos.bairro;
  if (dadosSalvos.cidade) document.getElementById("cidade").value = dadosSalvos.cidade;
  if (dadosSalvos.cep) document.getElementById("cep").value = dadosSalvos.cep;
  if (dadosSalvos.objetivo) document.getElementById("objetivo").value = dadosSalvos.objetivo;
  if (dadosSalvos.formacao) document.getElementById("formacao").value = dadosSalvos.formacao;
  if (dadosSalvos.habilidades) document.getElementById("habilidades").value = dadosSalvos.habilidades;
  if (dadosSalvos.hobbies) document.getElementById("hobbies").value = dadosSalvos.hobbies;

  // Telefones
if (dadosSalvos.telefone && Array.isArray(dadosSalvos.telefone)) {
  dadosSalvos.telefone.forEach(t => {
    adicionarTelefone();
    const ultimoInput = document.querySelector("#telefones .telefone-input:last-of-type");
    ultimoInput.value = t;
  });
}

  // Cursos
if (dadosSalvos.curso && Array.isArray(dadosSalvos.curso)) {
  dadosSalvos.curso.forEach((c, i) => {
    adicionarCurso(c, dadosSalvos.instituicao?.[i] || "", dadosSalvos.carga?.[i] || "");
  });
}

  // Experi√™ncias
if (dadosSalvos.empresa && Array.isArray(dadosSalvos.empresa)) {
  dadosSalvos.empresa.forEach((emp, i) => {
    adicionarExperiencia(
      emp,
      dadosSalvos.cargo?.[i] || "",
      dadosSalvos.atividades?.[i] || "",
      dadosSalvos.periodo_inicio?.[i] || "",
      dadosSalvos.periodo_fim?.[i] || ""
    );
  });
}

if (dadosSalvos.infoAdicional) {
  document.querySelector('[name="infoAdicional"]').value = dadosSalvos.infoAdicional;
}

});
</script>
</body>
</html>